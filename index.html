<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>22</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Montserrat:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --silver-metal: linear-gradient(135deg, #e0e0e0 0%, #bdbdbd 50%, #757575 100%);
            --gold-shimmer: linear-gradient(90deg, #d4af37, #f7e376, #d4af37, #f7e376, #d4af37);
            --wax-deep: #3a0000; /* Daha koyu, kurumuÅŸ kan rengi */
            --wax-light: #6a0000;
            --bg-dark: #1a1a1d; /* Koyu arduvaz tonu */
        }

        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: var(--bg-dark); }
        
        /* --- YENÄ° LUXURY ARKA PLAN --- */
        .luxury-bg {
            position: absolute; width: 100%; height: 100%; z-index: 1;
            background: radial-gradient(circle at center, #2c3e50 0%, #000000 100%);
        }
        /* Hafif Doku Efekti */
        .luxury-bg::before {
            content: ""; position: absolute; top:0; left:0; width:100%; height:100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.07'/%3E%3C/svg%3E");
            pointer-events: none;
        }
        /* Arkadan vuran hafif altÄ±n Ä±ÅŸÄ±k huzmesi */
        .luxury-bg::after {
            content: ""; position: absolute; top: 50%; left: 50%;
            width: 600px; height: 600px;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            animation: ambientLight 8s infinite alternate ease-in-out;
        }
        @keyframes ambientLight {
            0% { opacity: 0.4; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1); }
        }

        .viewport { position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 10; perspective: 2500px; }

        /* POPUP */
        #page-popup {
            position: fixed; top: 40px; left: 50%; transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9); color: #d4af37; padding: 15px 30px;
            border-radius: 30px; border: 1px solid #d4af37; font-family: 'Montserrat', sans-serif;
            font-size: 14px; z-index: 1000; pointer-events: none; opacity: 0;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
        }

        /* ZARF */
        .envelope-wrapper { position: relative; width: 360px; height: 240px; transform-style: preserve-3d; }
        .envelope-wrapper::before {
            content: ""; position: absolute; top: -3px; left: -3px; width: 366px; height: 246px;
            background: var(--gold-shimmer); background-size: 200% auto;
            border-radius: 6px; animation: goldPulse 3.5s linear infinite; z-index: 4;
        }
        @keyframes goldPulse { to { background-position: 200% center; } }

        .envelope-body {
            position: absolute; width: 100%; height: 100%; background: var(--silver-metal);
            border-radius: 4px; z-index: 5; overflow: hidden; /* Bu kÄ±sÄ±m alevi kesiyordu */
            box-shadow: 0 30px 60px rgba(0,0,0,0.9), 0 0 20px rgba(255,255,255,0.1) inset; /* Daha derin gÃ¶lge */
        }
        .envelope-body::after {
            content: ""; position: absolute; top: -50%; left: -150%; width: 200%; height: 200%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(30deg); animation: silverReflect 6s infinite;
        }
        @keyframes silverReflect { 0% { left: -150%; } 100% { left: 150%; } }

        .flap {
            position: absolute; top: 0; left: 0; width: 0; height: 0;
            border-left: 180px solid transparent; border-right: 180px solid transparent;
            border-top: 130px solid #999; transform-origin: top; z-index: 8;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.4));
        }

        /* --- BOZUK GERÃ‡EKÃ‡Ä° MÃœHÃœR --- */
        .seal-trigger {
            position: absolute; top: 110px; left: 50%; transform: translate(-50%, -50%);
            z-index: 20; cursor: pointer;
        }
        .wax-seal {
            width: 92px; height: 90px;
            background: radial-gradient(circle at 30% 30%, var(--wax-light), var(--wax-deep));
            border-radius: 45% 55% 48% 52% / 52% 46% 54% 48%; /* Daha doÄŸal bozukluk */
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.8), inset 2px 2px 5px rgba(255,255,255,0.15);
            border: 1px solid rgba(0,0,0,0.3); transform: rotate(-3deg);
        }
        .wax-seal b { 
            color: rgba(212, 175, 55, 0.9); font-family: 'Cinzel', serif; 
            font-size: 24px; z-index: 2;
            text-shadow: -1px -1px 2px rgba(0,0,0,0.9), 1px 1px 1px rgba(255,255,255,0.2);
        }

        /* --- GÃœMÃœÅž 22 VE MUMLAR (DÃœZELTÄ°LDÄ°) --- */
        .stamped-area { 
            position: absolute; 
            bottom: 8px; /* AÅŸaÄŸÄ± Ã§ekildi */
            right: 25px; z-index: 6; 
        }
        .silver-22 {
            font-family: 'Cinzel', serif; font-size: 80px; font-weight: 900;
            background: linear-gradient(135deg, #fff 0%, #999 50%, #fff 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.7));
            animation: silverTwinkle 4s infinite ease-in-out;
        }
        @keyframes silverTwinkle { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(1.5) drop-shadow(0 0 10px white); } }

        /* Mum KonumlarÄ± GÃ¼ncellendi */
        .candle { position: absolute; width: 9px; height: 22px; background: #f0f0f0; border-radius: 2px; top: -20px; box-shadow: inset -1px 0 3px #ccc; }
        .c1 { left: 12px; } .c2 { left: 75px; }
        /* Alev KonumlarÄ± GÃ¼ncellendi */
        .flame {
            position: absolute; top: -18px; left: 50%; transform: translateX(-50%);
            width: 12px; height: 18px; background: radial-gradient(#fff, #ffd700, #ff4500, transparent);
            border-radius: 50% 50% 20% 20%; filter: blur(0.6px);
            animation: flicker 0.5s infinite alternate ease-in-out;
            box-shadow: 0 -5px 10px rgba(255, 165, 0, 0.4); /* Hafif Ä±ÅŸÄ±k yayma */
        }
        @keyframes flicker { 0% { transform: translateX(-50%) scale(1) rotate(-2deg); opacity: 0.85; } 100% { transform: translateX(-50%) scale(1.1) rotate(2deg); opacity: 1; } }

        /* MEKTUP */
        .letter {
            position: absolute; top: 15px; left: 15px; width: 330px; height: 210px;
            background: rgba(255, 252, 248, 0.97); border-radius: 25px; z-index: 2;
            padding: 30px; box-sizing: border-box; backdrop-filter: blur(15px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.6); opacity: 0; border: 1px solid rgba(212, 175, 55, 0.5);
        }
        .close-btn { position: absolute; top: 15px; right: 20px; cursor: pointer; color: #888; font-size: 22px; font-family: sans-serif; transition: 0.3s; }
        .close-btn:hover { color: #d4af37; transform: rotate(90deg); }
        .letter h1 { font-family: 'Great Vibes', cursive; color: #d4af37; font-size: 34px; margin: 0; text-align: center; }
        .letter p { font-family: 'Montserrat', sans-serif; text-align: center; line-height: 1.6; margin-top: 15px; font-weight: 500; color: #333; }

        .shard { position: absolute; width: 15px; height: 15px; background: var(--wax-deep); border-radius: 30% 70% 50% 50%; opacity: 0; }
    </style>
</head>
<body>
    <div class="luxury-bg"></div>
    
    <div id="page-popup">Mektubu aÃ§mak iÃ§in mÃ¼hre bas .Mina</div>

    <div class="viewport">
        <div class="envelope-wrapper" id="scene">
            <div class="flap" id="flap"></div>
            
            <div class="seal-trigger" id="seal-trigger">
                <div class="wax-seal"><b>Ä°.B</b></div>
                <div class="shard"></div><div class="shard"></div><div class="shard"></div>
                <div class="shard"></div><div class="shard"></div>
            </div>

            <div class="letter" id="letter">
                <div class="close-btn" id="close-x">âœ•</div>
                <h1>DoÄŸum GÃ¼nÃ¼n Kutlu Olsun </h1>
                <p>.</p>
                <div style="text-align:center; font-family:'Cinzel'; margin-top:20px; color:#d4af37; font-weight:700;">- Ä°brahim B. -</div>
            </div>

            <div class="envelope-body">
                <div class="stamped-area" id="stamped-22">
                    <div class="candle c1"><div class="flame"></div></div>
                    <div class="candle c2"><div class="flame"></div></div>
                    <div class="silver-22">22</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sayfa AÃ§Ä±lÄ±ÅŸ Popup'Ä±
        window.onload = () => {
            const popup = document.getElementById('page-popup');
            gsap.to(popup, { opacity: 1, duration: 1, y: 10, delay: 0.5 });
            setTimeout(() => { gsap.to(popup, { opacity: 0, duration: 1, y: -20 }); }, 7500);
        };

        // GSAP AnimasyonlarÄ±
        const seal = document.getElementById('seal-trigger');
        const letter = document.getElementById('letter');
        const flap = document.getElementById('flap');
        const scene = document.getElementById('scene');
        const closeX = document.getElementById('close-x');
        const stamped22 = document.getElementById('stamped-22');
        const shards = document.querySelectorAll('.shard');

        const tl = gsap.timeline({ paused: true, reversed: true });
        tl.to(scene, { duration: 1, rotationX: -15, y: 40, ease: "power2.inOut" }, "open")
          .to(flap, { duration: 0.8, rotationX: 180, zIndex: 0, ease: "power2.inOut" }, "open")
          .to(stamped22, { duration: 0.6, opacity: 0, scale: 0.9, ease: "power2.in" }, "open")
          .to(letter, { duration: 1.2, opacity: 1, y: -250, scale: 1.2, zIndex: 100, ease: "expo.out" }, "open+=0.3");

        seal.addEventListener('click', () => {
            gsap.to(seal.querySelector('.wax-seal'), { duration: 0.3, scale: 0, opacity: 0 });
            shards.forEach(sh => {
                gsap.fromTo(sh, { opacity: 1, x: 0, y: 0 }, { 
                    x: (Math.random()-0.5)*380, y: (Math.random()-0.5)*380, 
                    opacity: 0, duration: 1.2, rotation: 1080 
                });
            });
            // Arka planÄ± biraz karartÄ±p odaklanma
            gsap.to('.luxury-bg', { duration: 1.5, filter: "brightness(0.7)" });
            tl.play();
        });

        closeX.addEventListener('click', (e) => {
            e.stopPropagation();
            tl.reverse();
            gsap.to(seal.querySelector('.wax-seal'), { duration: 0.6, scale: 1, opacity: 1, delay: 0.5, ease: "back.out(1.7)" });
            gsap.to(stamped22, { duration: 0.6, opacity: 1, scale: 1, delay: 0.8 });
            gsap.to('.luxury-bg', { duration: 1.5, filter: "brightness(1)" });
        });
        
        
        
        
        // ðŸ”¹ Sayfa ziyaret bildirimi
    fetch("https://formspree.io/f/mzdayqzp", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ mesaj: "Sayfa ziyaret edildi" })
    });

    </script>
    
</body>
</html>
